use io;

fib n {
  if n > 1 {
    ret fib(n - 1) + fib(n - 2);
  }
  ret n;
}

main argv {
  var f3 = spawn me {
    me.send(msg(fib(30)));
  };

  var f2 = spawn me {
    me.send(msg(fib(20)));
  };

  var f1 = spawn me {
    me.send(msg(fib(10)));
  };

  io.print(f1.recv().pop());
  io.print(f2.recv().pop());
  io.print(f3.recv().pop());
}

